Zilog eZ8 Encore! Macro Assembler Version 2.53 (20121701) 27-May-25     03:45:25     page:   1


PC     Object              F  Line    Source uart.src
                           A     1    ; Z8 Encore! ANSI C Compiler Release 3.80
                           A     2    ; -nolocalcse -optsize -fastcall -const=RA
                           A     3    ; -nooptlink -noregvar -reduceopt -debug -
                           A     4    ; -alias 
                           A     5        DEFINE uart_TEXT,SPACE=ROM
                           A     6        FILE    ".\uart.c"
                           A     7    .debug "C"
                           A     8        SEGMENT ROM_DATA
                           A     9    
                           A    10    
                           A    11    ;**************************** _init_uart0 
                           A    12    ;Name                         Addr/Registe
                           A    13    ;_isr_uart0_rx                       IMPOR
                           A    14    ;_SET_VECTOR                         IMPOR
                           A    15    ;_select_port                        IMPOR
                           A    16    ;_get_freq                           IMPOR
                           A    17    ;_init_uart                          IMPOR
                           A    18    
                           A    19    
                           A    20    ; Aggregate Stack Size: 0 (words)
                           A    21    
                           A    22    
                           A    23        .FRAME _n_init_uart0,?_n_init_uart0,RD
                           A    24        .FCALL _n_init_uart
                           A    25        .FCALL _n_get_freq
                           A    26        .FCALL _n_select_port
                           A    27        .FRAME _f_init_uart0,?_f_init_uart0,ED
                           A    28        .FCALL _f_init_uart
                           A    29        .FCALL _f_get_freq
                           A    30        .FCALL _f_select_port
                           A    31        SEGMENT uart_TEXT
                           A    32    .begrec "fmt_type",10
                           A    33    .define "flags"
                           A    34    .value 0
                           A    35    .class 8
                           A    36    .type 2
                           A    37    .endef
                           A    38    .define "size"
                           A    39    .value 1
                           A    40    .class 8
                           A    41    .type 2
                           A    42    .endef
                           A    43    .define "space"
                           A    44    .value 2
                           A    45    .class 8
                           A    46    .type 2
                           A    47    .endef
                           A    48    .define "type"
                           A    49    .value 3
                           A    50    .class 8
                           A    51    .type 2
                           A    52    .endef
Zilog eZ8 Encore! Macro Assembler Version 2.53 (20121701) 27-May-25     03:45:25     page:   2


PC     Object              F  Line    Source uart.src
                           A    53    .define "field_width"
                           A    54    .value 4
                           A    55    .class 8
                           A    56    .type 2
                           A    57    .endef
                           A    58    .define "precision"
                           A    59    .value 5
                           A    60    .class 8
                           A    61    .type 2
                           A    62    .endef
                           A    63    .define "print_leading_char"
                           A    64    .value 6
                           A    65    .class 8
                           A    66    .type 2
                           A    67    .endef
                           A    68    .define "dest"
                           A    69    .value 7
                           A    70    .class 8
                           A    71    .type 162
                           A    72    .endef
                           A    73    .define "print_len"
                           A    74    .value 9
                           A    75    .class 8
                           A    76    .type 12
                           A    77    .endef
                           A    78    .endrec "fmt_type"
                           A    79    .begrec "flt_fmt_data",5
                           A    80    .define "pad_whole"
                           A    81    .value 0
                           A    82    .class 8
                           A    83    .type 12
                           A    84    .endef
                           A    85    .define "pad_pre_fract"
                           A    86    .value 1
                           A    87    .class 8
                           A    88    .type 12
                           A    89    .endef
                           A    90    .define "pad_post_fract"
                           A    91    .value 2
                           A    92    .class 8
                           A    93    .type 12
                           A    94    .endef
                           A    95    .define "pad_at"
                           A    96    .value 3
                           A    97    .class 8
                           A    98    .type 162
                           A    99    .endef
                           A   100    .endrec "flt_fmt_data"
                           A   101    .begrec "fmt_control_data",2
                           A   102    .define "status"
                           A   103    .value 0
                           A   104    .class 8
Zilog eZ8 Encore! Macro Assembler Version 2.53 (20121701) 27-May-25     03:45:25     page:   3


PC     Object              F  Line    Source uart.src
                           A   105    .type 2
                           A   106    .endef
                           A   107    .define "chr"
                           A   108    .value 1
                           A   109    .class 8
                           A   110    .type 2
                           A   111    .endef
                           A   112    .endrec "fmt_control_data"
                           A   113    .begrec "_set_type",4
                           A   114    .define "begin"
                           A   115    .value 0
                           A   116    .class 8
                           A   117    .type 162
                           A   118    .endef
                           A   119    .define "end"
                           A   120    .value 2
                           A   121    .class 8
                           A   122    .type 162
                           A   123    .endef
                           A   124    .endrec "_set_type"
                           A   125    .begrec "near_set_type",2
                           A   126    .define "begin"
                           A   127    .value 0
                           A   128    .class 8
                           A   129    .type 130
                           A   130    .endef
                           A   131    .define "end"
                           A   132    .value 1
                           A   133    .class 8
                           A   134    .type 130
                           A   135    .endef
                           A   136    .endrec "near_set_type"
                           A   137    .begrec "far_set_type",4
                           A   138    .define "begin"
                           A   139    .value 0
                           A   140    .class 8
                           A   141    .type 162
                           A   142    .endef
                           A   143    .define "end"
                           A   144    .value 2
                           A   145    .class 8
                           A   146    .type 162
                           A   147    .endef
                           A   148    .endrec "far_set_type"
                           A   149    .begrec "rom_set_type",4
                           A   150    .define "begin"
                           A   151    .value 0
                           A   152    .class 8
                           A   153    .type 194
                           A   154    .endef
                           A   155    .define "end"
                           A   156    .value 2
Zilog eZ8 Encore! Macro Assembler Version 2.53 (20121701) 27-May-25     03:45:25     page:   4


PC     Object              F  Line    Source uart.src
                           A   157    .class 8
                           A   158    .type 194
                           A   159    .endef
                           A   160    .endrec "rom_set_type"
                           A   161    .begrec "flt_info",12
                           A   162    .define "flags"
                           A   163    .value 0
                           A   164    .class 8
                           A   165    .type 12
                           A   166    .endef
                           A   167    .define "exp"
                           A   168    .value 1
                           A   169    .class 8
                           A   170    .type 2
                           A   171    .endef
                           A   172    .define "digits"
                           A   173    .value 2
                           A   174    .class 8
                           A   175    .dim 10
                           A   176    .type 108
                           A   177    .endef
                           A   178    .endrec "flt_info"
                           A   179    .begrec "NONAME0",6
                           A   180    .define "baudRate"
                           A   181    .value 0
                           A   182    .class 8
                           A   183    .type 5
                           A   184    .endef
                           A   185    .define "stopBits"
                           A   186    .value 4
                           A   187    .class 8
                           A   188    .type 12
                           A   189    .endef
                           A   190    .define "parity"
                           A   191    .value 5
                           A   192    .class 8
                           A   193    .type 12
                           A   194    .endef
                           A   195    .endrec "NONAME0"
                           A   196    .begrec "NONAME1",5
                           A   197    .define "pBuffer"
                           A   198    .value 0
                           A   199    .class 8
                           A   200    .type 172
                           A   201    .endef
                           A   202    .define "next_in"
                           A   203    .value 2
                           A   204    .class 8
                           A   205    .type 12
                           A   206    .endef
                           A   207    .define "next_out"
                           A   208    .value 3
Zilog eZ8 Encore! Macro Assembler Version 2.53 (20121701) 27-May-25     03:45:25     page:   5


PC     Object              F  Line    Source uart.src
                           A   209    .class 8
                           A   210    .type 12
                           A   211    .endef
                           A   212    .define "size"
                           A   213    .value 4
                           A   214    .class 8
                           A   215    .type 12
                           A   216    .endef
                           A   217    .endrec "NONAME1"
                           A   218    ;    1  /*********************************
                           A   219    ;    2   *  Copyright (C) 1999-2008 by  Zi
                           A   220    ;    3   *  All Rights Reserved
                           A   221    ;    4   *********************************
                           A   222    ;    5  #include "uart.h"
                           A   223    ;    6  #include "terminal.h"
                           A   224    ;    7  
                           A   225    ;    8  void init_uart0(void)
                           A   226    ;    9  {
0000                       A   227    _init_uart0:
                           A   228    .define "_init_uart0"
                           A   229    .value _init_uart0
                           A   230    .class 2
                           A   231    .type 65
                           A   232    .endef
                           A   233    .begfunc "init_uart0",9,"_init_uart0"
0000 D6 0000               A   234        CALL    __b_frameset00
                           A   235    ;   10      init_uart(_UART0,_DEFFREQ, BAU
                           A   236    .line 10
0003 D6 0000               A   237        CALL    _get_freq
0006 B0E8                  A   238        CLR R8
0008 B0E9                  A   239        CLR R9
000A 1FE8EE0E EA           A   240        LDWX    RR10,RR0
000F 1FE8EE2E EC           A   241        LDWX    RR12,RR2
0014 1F7000                A   242        PUSH    #0
0017 1F70C2                A   243        PUSH    #194
001A 1F7001                A   244        PUSH    #1
001D 1F7000                A   245        PUSH    #0
0020 D6 0000               A   246        CALL    _init_uart
0023 50E0                  A   247        POP R0
0025 50E0                  A   248        POP R0
0027 50E0                  A   249        POP R0
0029 50E0                  A   250        POP R0
                           A   251    ;   11      select_port(_UART0);          
                           A   252    .line 11
002B B0E8                  A   253        CLR R8
002D B0E9                  A   254        CLR R9
002F D6 0000               A   255        CALL    _select_port
                           A   256    ;   12      SET_VECTOR(UART0_RX, isr_uart0
                           A   257    ;   13      IRQ0ENH |= 0x10;              
                           A   258    .line 13
0032 49100FC1              A   259        ORX 4033,#16
                           A   260    ;   14      IRQ0ENL |= 0x10;              
Zilog eZ8 Encore! Macro Assembler Version 2.53 (20121701) 27-May-25     03:45:25     page:   6


PC     Object              F  Line    Source uart.src
                           A   261    .line 14
0036 49100FC2              A   262        ORX 4034,#16
                           A   263    ;   15  }
                           A   264    .line 15
003A D6 0000               A   265        CALL    __b_framereset
003D AF                    A   266        RET 
                           A   267    .endfunc "init_uart0",15,"_init_uart0"
000E 0000                  A   268        VECTOR  UART0_RX=_isr_uart0_rx
                           A   269        XREF _isr_uart0_rx:ROM
                           A   270        XREF _select_port:ROM
                           A   271        XREF _init_uart:ROM
                           A   272        XREF _get_freq:ROM
                           A   273        XREF __b_framereset:ROM
                           A   274        XREF __b_frameset00:ROM
                           A   275        XDEF _init_uart0
                           A   276        END


Errors: 0
Warnings: 0
Lines Assembled: 277
